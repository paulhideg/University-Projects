<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>validation.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "validation.h"
#include &lt;utility&gt;
#include &lt;ctime&gt;
#include &lt;ctype.h&gt;


<span style = "background-color:#dfd">void Tutorial_Validation::validate_link(std::string link) {</span>

<span style = "background-color:#dfd">    if (link.empty())
        throw ValidError("Invalid link");
    if (link.length() &lt; 5)
        throw ValidError("Invalid link");
    if (!(link[0] == link[1] &amp;&amp; link[1] == link[2] &amp;&amp; link[2] == 'w' &amp;&amp; link[3] == '.'))
        throw ValidError("Invalid link");
}</span>

<span style = "background-color:#dfd">void Tutorial_Validation::validate_title(const std::string&amp; title) {</span>

<span style = "background-color:#dfd">    if (title.empty())
        throw ValidError("Invalid title");
}</span>

<span style = "background-color:#dfd">void Tutorial_Validation::validate_presenter(const std::string&amp; presenter) {</span>

<span style = "background-color:#dfd">    if (presenter.empty())
        throw ValidError("Invalid presenter");
}</span>

<span style = "background-color:#dfd">void Tutorial_Validation::validate_duration(const std::string&amp; duration) {</span>

<span style = "background-color:#dfd">    if (duration.empty())
        throw ValidError("Invalid duration");</span>

<span style = "background-color:#dfd">    if (duration.length() != 5)
        throw ValidError("Invalid duration");</span>

<span style = "background-color:#dfd">    std::string minutes, seconds;</span>

<span style = "background-color:#dfd">    if (duration[2] != ':')
        throw ValidError("Invalid duration");</span>

<span style = "background-color:#dfd">    if (duration[0] == '0' &amp;&amp; duration[1] == '0')</span>
    {
<span style = "background-color:#dfd">        if (duration[3] == '0' &amp;&amp; duration[4] == '0')
            throw ValidError("Invalid duration");</span>
    }

<span style = "background-color:#dfd">    if (duration[3] &lt; '0' || duration[3] &gt; '5')
        throw ValidError("Invalid time");</span>

<span style = "background-color:#dfd">    if (!(std::isdigit(duration[0])) || !(std::isdigit(duration[1])) || !(std::isdigit(duration[3])) || !(std::isdigit(duration[4])))
        throw ValidError("Invalid duration");
}</span>

<span style = "background-color:#dfd">void Tutorial_Validation::validate_tutorial(std::string link, const std::string&amp; title, const std::string&amp; presenter, const std::string&amp; duration) {</span>

<span style = "background-color:#dfd">    std::string err;</span>

    try {
<span style = "background-color:#dfd">        validate_link(std::move(link));</span>
    }
<span style = "background-color:#dfd">    catch (ValidError&amp; ve) {
        err += ve.get_message();
        err += "\n";
    }</span>

    try {
<span style = "background-color:#dfd">        validate_title(title);</span>
    }
<span style = "background-color:#dfd">    catch (ValidError&amp; ve) {
        err += ve.get_message();
        err += "\n";
    }</span>

    try {
<span style = "background-color:#dfd">        validate_presenter(presenter);</span>
    }
<span style = "background-color:#dfd">    catch (ValidError&amp; ve) {
        err += ve.get_message();
        err += "\n";
    }</span>

    try {
<span style = "background-color:#dfd">        validate_duration(duration);</span>
    }
<span style = "background-color:#dfd">    catch (ValidError&amp; ve) {
        err += ve.get_message();
    }</span>

<span style = "background-color:#dfd">    if (!err.empty())
        throw ValidError(err);
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>