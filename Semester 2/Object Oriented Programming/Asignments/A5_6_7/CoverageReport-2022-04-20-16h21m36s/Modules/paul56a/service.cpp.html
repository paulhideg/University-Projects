<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>service.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
//
// Created by Alen on 16/03/2022.
//

#include "service.h"


<span style = "background-color:#dfd">void Tutorial_Service::add_tutorial(std::string link, std::string title, std::string presenter, std::string duration, unsigned int likes_number) {</span>

<span style = "background-color:#dfd">    Tutorial tutorial(link, title, presenter, duration, likes_number);
    this-&gt;tutorial_validator.validate_tutorial(link, title, presenter, duration);
    this-&gt;tutorial_repo.add(tutorial);
}</span>

<span style = "background-color:#dfd">void Tutorial_Service::remove_tutorial(const std::string&amp; link) {</span>

<span style = "background-color:#dfd">    this-&gt;tutorial_validator.validate_link(link);
    this-&gt;tutorial_repo.remove(link);
}</span>

<span style = "background-color:#dfd">void Tutorial_Service::update_tutorial(std::string link, std::string title, std::string presenter, std::string duration, unsigned int likes_number) {</span>

<span style = "background-color:#dfd">    Tutorial tutorial(link, title, presenter, duration, likes_number);
    this-&gt;tutorial_validator.validate_tutorial(link, title, presenter, duration);
    this-&gt;tutorial_repo.update(tutorial);
}</span>

<span style = "background-color:#dfd">Tutorial* Tutorial_Service::list_tutorials() {
    return this-&gt;tutorial_repo.get_all_tutorials();
}</span>

<span style = "background-color:#dfd">int Tutorial_Service::get_number_tutorials() {
    return this-&gt;tutorial_repo.get_tutorial_number();
}</span>

<span style = "background-color:#dfd">unsigned int Tutorial_Service::get_number_tutorials_for_presenter(std::string presenter) {</span>

<span style = "background-color:#dfd">    unsigned int number_of_tutorials = 0;
    Tutorial* tutorials = this-&gt;list_tutorials();
    for (int i = 0; i &lt;= this-&gt;tutorial_repo.get_tutorial_number() - 1; i++)
        if (tutorials[i].get_presenter() ==  presenter)
            number_of_tutorials++;</span>

<span style = "background-color:#dfd">    return number_of_tutorials;
}</span>

<span style = "background-color:#dfd">void Tutorial_Service::populate_array() {</span>

<span style = "background-color:#dfd">    std::string link[12] = { "www.pbinfo.com", "www.untold.com", "www.w3.com", "www.y8.com",
                            "www.schoolit.com","www.itis.com","www.code.com","www.codeacademy.com",
                            "www.duolingo.com","www.udemy.com", "www.youtube.com", "www.sololearn.com" };
    std::string title[12] = { "Basics", "Variables", "Functions","Headers",
                              "Conditions", "Loops", "Pointers","Classes",
                              "Structs","thiss","Dynamic Arrays", "Inheritance"</span>
                                };
<span style = "background-color:#dfd">    std::string presenter[5] = { "Tom","Grace","Jack","Arthur","David" };
    std::string duration[12] = { "50:50", "23:00", "11:35", "20:45",
                                 "18:15","21:50", "13:13", "34:12",
                                 "34:51","28:59","09:12", "01:01"};</span>
    unsigned int link_index, title_index, presenter_index, duration_index, likes;
<span style = "background-color:#dfd">    srand(time(nullptr));
    while (this-&gt;tutorial_repo.get_tutorial_number() != 10)</span>
    {
<span style = "background-color:#dfd">        link_index = title_index = duration_index = rand() % 12;
        presenter_index = rand() % 5;
        likes = rand() % 1000;</span>
        try {
<span style = "background-color:#dfd">            add_tutorial(link[link_index], title[title_index], presenter[presenter_index], duration[duration_index], likes);</span>
        }
<span style = "background-color:#dfd">        catch (RepoError&amp; repo_error) {}
    }
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>